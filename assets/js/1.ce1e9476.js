(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{163:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"webpack构建工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack构建工具","aria-hidden":"true"}},[s._v("#")]),s._v(" webpack构建工具")]),t("p",[s._v("Webpack 是一个开源的前端打包工具。\n将各种静态资源视为模块，并从它生成优化过的代码。\n")]),t("p",[t("img",{attrs:{src:"https://webpack.github.io/assets/what-is-webpack.png",alt:"webpack"}})]),t("h3",{attrs:{id:"webpack和grunt-gulp的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack和grunt-gulp的区别","aria-hidden":"true"}},[s._v("#")]),s._v(" webpack和Grunt/Gulp的区别")]),t("ul",[t("li",[s._v("webpack 是一个模块打包器(module bundler)，打包器是帮助你取得准备用于部署的 JavaScript 和样式表，将它们转换为适合浏览器的可用格式。")]),t("li",[s._v("Grunt/Gulp是一个任务执行器(task runner)，任务执行器是用来自动化处理常见的开发任务，例如项目的检查(lint)、构建(build)、测试(test)。")])]),t("h2",{attrs:{id:"概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概念","aria-hidden":"true"}},[s._v("#")]),s._v(" 概念")]),t("ul",[t("li",[s._v("入口(entry)")]),t("li",[s._v("输出(output)")]),t("li",[s._v("loader")]),t("li",[s._v("插件(plugins)")])]),t("h2",{attrs:{id:"使用loader的几种方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用loader的几种方式","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用Loader的几种方式")]),t("ul",[t("li",[s._v("配置（推荐）：在 webpack.config.js 文件中指定 loader。")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rules"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token regex"}},[s._v("/\\.css$/")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        use"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" loader"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'style-loader'")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("ul",[t("li",[s._v("内联：在每个 import 语句中显式指定 loader。")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Styles "),t("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'style-loader!css-loader?modules!./styles.css'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("CLI：在 shell 命令中指定它们。")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("webpack "),t("span",{attrs:{class:"token operator"}},[s._v("--")]),s._v("module"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("bind jade"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("loader "),t("span",{attrs:{class:"token operator"}},[s._v("--")]),s._v("module"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("bind "),t("span",{attrs:{class:"token string"}},[s._v("'css=style-loader!css-loader'")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本","aria-hidden":"true"}},[s._v("#")]),s._v(" 版本")]),t("p",[s._v("v3.10.0")]),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("yarn add webpack "),t("span",{attrs:{class:"token comment"}},[s._v("//yarn ")]),s._v("\nnpm install "),t("span",{attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("dev webpack "),t("span",{attrs:{class:"token comment"}},[s._v("//npm安装最新版本")]),s._v("\nnpm install "),t("span",{attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("dev webpack@"),t("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token comment"}},[s._v("//npm安装特定版本")]),s._v("\nnpm install webpack@beta "),t("span",{attrs:{class:"token comment"}},[s._v("//安装beta版本")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("hr"),t("h2",{attrs:{id:"单入口文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单入口文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 单入口文件")]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("require")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token string"}},[s._v("'path'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'bundle.js'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    path"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" path"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("resolve")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'dist'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  module"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rules"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token regex"}},[s._v("/\\.css$/")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        use"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{attrs:{class:"token string"}},[s._v("'style-loader'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{attrs:{class:"token string"}},[s._v("'css-loader'")]),s._v("\n        "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h2",{attrs:{id:"多入口文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多入口文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 多入口文件")]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("require")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token string"}},[s._v("'path'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("require")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" CleanWebpackPlugin "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("require")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token string"}},[s._v("'clean-webpack-plugin'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    app"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    print"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'./src/print.js'")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{attrs:{class:"token string"}},[s._v("'dist'")]),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      title"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'Output Management'")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'[name].bundle.js'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    path"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" path"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("resolve")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'dist'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h2",{attrs:{id:"插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插件","aria-hidden":"true"}},[s._v("#")]),s._v(" 插件")]),t("ul",[t("li",[s._v("html-webpack-plugin  //打包html")]),t("li",[s._v("clean-webpack-plugin //清空文件")])]),t("h2",{attrs:{id:"devtool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#devtool","aria-hidden":"true"}},[s._v("#")]),s._v(" Devtool")]),t("p",[s._v("https://doc.webpack-china.org/configuration/devtool")]),t("hr"),t("h2",{attrs:{id:"热更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#热更新","aria-hidden":"true"}},[s._v("#")]),s._v(" 热更新")]),t("ol",[t("li",[s._v("使用观察者模式\npackage.json")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token string"}},[s._v('"scripts"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{attrs:{class:"token string"}},[s._v('"watch"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"webpack --watch"')]),s._v("\n "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),t("ol",{attrs:{start:"2"}},[t("li",[s._v("使用 webpack-dev-server\n提供一个简单的 web 服务器，并且能够实时重新加载(live reloading)")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v(" devServer"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   contentBase"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'./dist'")]),s._v("\n "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("以上配置告知 webpack-dev-server，在 localhost:8080 下建立服务，将 dist 目录下的文件，作为可访问文件。")]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"start"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"webpack-dev-server --open"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),t("ol",{attrs:{start:"3"}},[t("li",[s._v("使用 webpack-dev-middleware")])]),t("p",[s._v("webpack-dev-middleware 是一个中间件容器(wrapper)，它将通过 webpack 处理后的文件发布到一个服务器(server)。webpack-dev-server内部使用 webpack-dev-middleware，然而，它可以作为一个单独的包来提供，可以进行更多的自定义设置来实现更多需求。webpack-dev-middleware 配合 express server")]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("server"),t("span",{attrs:{class:"token string"}},[s._v('": "')]),s._v("node server"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v('js"\n')])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),t("ol",{attrs:{start:"4"}},[t("li",[s._v("启用HMR")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("devServer"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   contentBase"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'./dist'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   hot"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"token class-name"}},[s._v("webpack"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("HotModuleReplacementPlugin")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("hr"),t("h2",{attrs:{id:"tree-shaking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking","aria-hidden":"true"}},[s._v("#")]),s._v(" Tree Shaking")]),t("p",[s._v("Tree Shaking是移除 JavaScript 上下文中的未引用代码(dead-code)\nwebpack build时会标识出那些“未引用代码(dead code)”，但不会删除它们。\n实现删除，添加压缩工具(minifier) - UglifyJSPlugin")]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("yarn add uglifyjs"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin\n或\nnpm install "),t("span",{attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("dev uglifyjs"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),t("h2",{attrs:{id:"生产环境构建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产环境构建","aria-hidden":"true"}},[s._v("#")]),s._v(" 生产环境构建")]),t("ul",[t("li",[t("p",[s._v("开发环境中，我们需要实时重新加载(live reloading)或热模块替换(hot module replacement)能力、source map 和 localhost server。")])]),t("li",[t("p",[s._v("生产环境，目标是更小的 bundle，更轻量的 source map")])]),t("li",[t("p",[s._v("webpack-merge --保留一个“通用”配置")])])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("webpack"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("common"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nwebpack"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dev"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nwebpack"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"start"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"webpack-dev-server --open --config webpack.dev.js"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),t("span",{attrs:{class:"token string"}},[s._v('"server"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"node server.js"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),t("span",{attrs:{class:"token string"}},[s._v('"build"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"webpack --config webpack.prod.js"')]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),t("h2",{attrs:{id:"代码分离"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码分离","aria-hidden":"true"}},[s._v("#")]),s._v(" 代码分离")]),t("p",[s._v("有三种常用的代码分离方法：")]),t("ul",[t("li",[s._v("入口起点：使用 entry 配置手动地分离代码。")]),t("li",[s._v("防止重复：使用 CommonsChunkPlugin 去重和分离 chunk。")]),t("li",[s._v("动态导入：通过模块的内联函数调用来分离代码。")])]),t("hr"),t("h2",{attrs:{id:"缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缓存","aria-hidden":"true"}},[s._v("#")]),s._v(" 缓存")]),t("ul",[t("li",[s._v("通过使用 output.filename 进行文件名替换")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("filename"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'[name].[chunkhash].js'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("提取模板")])]),t("hr"),t("h2",{attrs:{id:"构建性能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建性能","aria-hidden":"true"}},[s._v("#")]),s._v(" 构建性能")]),t("ul",[t("li",[s._v("保持版本最新")]),t("li",[s._v("Loaders\n将loaders 应用于最少数的必要模块中")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("include"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" path"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("resolve")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"src"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}],!1,null,null,null);a.default=e.exports}}]);